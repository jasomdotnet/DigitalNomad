!function(){var e=document.getElementById("sentinel");if(e){var t=2,o=document.getElementById("content"),i=document.getElementById("spinner"),r=!1,n=500,s=!1,d=[1];function a(){var n=new XMLHttpRequest;n.open("POST",postUrl,!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.onload=function(){if(200<=n.status&&4==n.readyState){var e=JSON.parse(n.responseText);if(!e.content)return e.hasOwnProperty("noMoreContent")?i.innerHTML=noMorePostsMsg:(console.log(unexpectedMsg),i.innerHTML=unexpectedMsg),void u();-1===d.indexOf(e.page)?(o.insertAdjacentHTML("beforeend",e.content),d.push(e.page),i.innerHTML=spinnerHTML):i.innerHTML=rescrollMsg,"undefined"!=typeof bLazy&&bLazy.revalidate(),t+=1,l()||setTimeout(function(){r=!1},2e3)}else console.log("AJAX request failed. Returned status is "+n.status+". That's all we know.")};var e={page:t,action:"digitalnomad_infinite_load",object:postTypeObject,what_kind:whatKind,nonce:ajaxNonce};n.send(function(e){var n="";for(var t in e)e.hasOwnProperty(t)&&(0<n.length&&(n+="&"),n+=encodeURI(t+"="+e[t]));return n}(e))}function c(){0==r&&window.pageYOffset+window.innerHeight+n>=o.offsetHeight&&(a(),r=!0),!0===s&&(window.removeEventListener("scroll",c),window.removeEventListener("resize",c))}if(l()){var w=new IntersectionObserver(function(e){e[0].intersectionRatio<=0||a()});w.observe(e)}else window.addEventListener("scroll",c),window.addEventListener("resize",c);function l(){return"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype}function u(){l()&&w.disconnect(),s=!0}}var f=document.body,v=f.offsetTop+300;window.onscroll=function(){window.pageYOffset>v?f.classList.add("scrl"):f.classList.remove("scrl")};function p(){var e=document.getElementById("deferred-styles"),n=document.createElement("div");n.innerHTML=e.textContent,document.body.appendChild(n),e.parentElement.removeChild(e)}window.addEventListener?window.addEventListener("load",p,!1):window.attachEvent?window.attachEvent("onload",p):window.onload=p}();