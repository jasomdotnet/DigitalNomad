!function(){var t,o,i,r,e,n,d,s,a=document.getElementById("sentinel");function c(){var n=new XMLHttpRequest;n.open("POST",postUrl,!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.onload=function(){if(!(200<=n.status&&4==n.readyState))return console.log(ajaxFailedMsg),console.log("Returned status is "+n.status+". That's all we know."),i.innerHTML="<div>"+ajaxFailedMsg+"</div>",void w();if(!n.responseText||0===n.responseText.length)return console.log(noJsonMsg),i.innerHTML="<div>"+noJsonMsg+"</div>",void w();var e;try{e=JSON.parse(n.responseText)}catch(e){return console.log(noValidJsonMsg+": "+e.message),i.innerHTML="<div>"+noValidJsonMsg+"</div>",void w()}if(!e.content)return e.hasOwnProperty("noMoreContent")?i.innerHTML="<div>"+noMorePostsMsg+"</div>":(console.log(unexpectedMsg),i.innerHTML="<div>"+unexpectedMsg+"</div>"),void w();-1===d.indexOf(e.page)?(o.insertAdjacentHTML("beforeend",e.content),d.push(e.page),i.innerHTML=spinnerHTML):i.innerHTML="<div>"+rescrollMsg+"</div>","undefined"!=typeof bLazy&&bLazy.revalidate(),t+=1,v()||setTimeout(function(){r=!1},1e4)};var e={page:t,action:"digitalnomad_infinite_load",object:postTypeObject,what_kind:whatKind,nonce:ajaxNonce};n.send(function(e){var n="";for(var t in e)e.hasOwnProperty(t)&&(0<n.length&&(n+="&"),n+=encodeURI(t+"="+e[t]));return n}(e))}function l(){0==r&&window.pageYOffset+window.innerHeight+e>=o.offsetHeight&&(c(),r=!0),!0===n&&(window.removeEventListener("scroll",l),window.removeEventListener("resize",l))}function v(){return"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype}function w(){v()&&s.disconnect(),n=!0}a&&(t=2,o=document.getElementById("content"),i=document.getElementById("spinner"),r=!1,n=!(e=500),d=[1],v()?(s=new IntersectionObserver(function(e){e[0].intersectionRatio<=0||c()})).observe(a):(window.addEventListener("scroll",l),window.addEventListener("resize",l)));var u=document.body,p=u.offsetTop+300;window.onscroll=function(){window.pageYOffset>p?u.classList.add("scrl"):u.classList.remove("scrl")};function f(){var e=document.getElementById("deferred-styles"),n=document.createElement("div");n.innerHTML=e.textContent,document.body.appendChild(n),e.parentElement.removeChild(e)}window.addEventListener?window.addEventListener("load",f,!1):window.attachEvent?window.attachEvent("onload",f):window.onload=f}();